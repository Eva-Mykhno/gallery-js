var P=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var i=(t,e,r)=>(P(t,e,"read from private field"),r?r.call(t):e.get(t)),m=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},L=(t,e,r,s)=>(P(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r);import{a as v,i as c,P as w}from"./assets/vendor-6b9f6847.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();var u,g,p;class _{constructor(){m(this,u,"https://api.unsplash.com/search/photos");m(this,g,"gcevo00lZKvSMKLnZZJPKYS5xNbpbsP_4i6E-BVlG58");m(this,p,"")}async getPopularImages(e){const r=`${i(this,u)}?query=popular&page=${e}&per_page=12&orientation=portrait&client_id=${i(this,g)}`;try{const{data:s}=await v(r);return s}catch{c.error({message:"something went wrong"})}}async getImagesByQuery(e){const r=`${i(this,u)}?query=${i(this,p)}&page=${e}&per_page=12&orientation=portrait&client_id=${i(this,g)}`;try{const{data:s}=await v(r);return s}catch{c.error({message:"something went wrong"})}}set query(e){L(this,p,e)}}u=new WeakMap,g=new WeakMap,p=new WeakMap;function f(t){return t.map(({urls:e,alt_description:r})=>`<li class='gallery__item'><img src='${e.small}' alt='${r}'></li>`).join("")}const y=document.querySelector(".js-gallery"),h=document.getElementById("tui-pagination-container"),I=document.querySelector(".js-search-form"),a=new w(h,{totalItems:0,itemsPerPage:12,visiblePages:5,page:1}),$=a.getCurrentPage(),l=new _;l.getPopularImages($).then(t=>{const e=f(t.results);a.reset(t.total),y.innerHTML=e});function q(t){const e=t.page;console.log(e),l.getPopularImages(e).then(r=>{const s=f(r.results);y.innerHTML=s})}a.on("afterMove",q);I.addEventListener("submit",t=>{t.preventDefault();const e=t.target.elements.query.value.trim();if(e===""){c.info({message:"enter text"});return}a.off("afterMove",q),l.query=e,a.off("afterMove",M),l.getImagesByQuery($).then(r=>{if(r.results.length===0){c.info({message:"No images found"}),h.style.display="none";return}h.style.display="block",c.success({message:`We are found ${r.total} images`});const s=f(r.results);y.innerHTML=s,a.reset(r.total)}),a.on("afterMove",M),I.reset()});function M(t){const e=t.page;console.log(e),l.getImagesByQuery(e).then(r=>{const s=f(r.results);y.innerHTML=s})}
//# sourceMappingURL=commonHelpers.js.map
