var h=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var a=(t,e,r)=>(h(t,e,"read from private field"),r?r.call(t):e.get(t)),u=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},P=(t,e,r,s)=>(h(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r);import{a as L,i as f,P as q}from"./assets/vendor-91909bd7.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const m of n.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();var i,c,l;class w{constructor(){u(this,i,"https://api.unsplash.com/search/photos");u(this,c,"gcevo00lZKvSMKLnZZJPKYS5xNbpbsP_4i6E-BVlG58");u(this,l,"")}async getPopularImages(e){const r=`${a(this,i)}?query=popular&page=${e}&per_page=12&orientation=portrait&client_id=${a(this,c)}`;try{const{data:s}=await L(r);return s}catch{f.error({message:"something went wrong"})}}async getImagesByQuery(e){const r=`${a(this,i)}?query=${a(this,l)}&page=${e}&per_page=12&orientation=portrait&client_id=${a(this,c)}`;try{const{data:s}=await L(r);return s}catch{f.error({message:"something went wrong"})}}set query(e){P(this,l,e)}}i=new WeakMap,c=new WeakMap,l=new WeakMap;function y(t){return t.map(({urls:e,alt_description:r})=>`<li class='gallery__item'><img src='${e.small}' alt='${r}'></li>`).join("")}const d=document.querySelector(".js-gallery"),_=document.getElementById("tui-pagination-container"),$=document.querySelector(".js-search-form"),p=new q(_,{totalItems:0,itemsPerPage:12,visiblePages:5,page:1}),I=p.getCurrentPage(),g=new w;g.getPopularImages(I).then(t=>{const e=y(t.results);p.reset(t.total),d.innerHTML=e});p.on("afterMove",t=>{const e=t.page;console.log(e),g.getPopularImages(e).then(r=>{const s=y(r.results);d.innerHTML=s})});$.addEventListener("submit",t=>{t.preventDefault();const e=t.target.elements.query.value.trim();if(e===""){f.info({message:"enter text"});return}g.query=e,g.getImagesByQuery(I).then(r=>{const s=y(r.results);d.innerHTML=s,p.reset(r.total)})});
//# sourceMappingURL=commonHelpers.js.map
